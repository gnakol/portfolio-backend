<div class="soc-intro-container">
  <!-- Header avec gradient cyber -->
  <div class="soc-header">
    <div class="header-grid-bg"></div>
    <div class="header-content">
      <div class="threat-badge pulse">
        <mat-icon>warning</mat-icon>
        <span>LIVE THREAT SIMULATION</span>
      </div>

      <h1 class="main-title">
        <span class="title-line-1">SOC ANALYST</span>
        <span class="title-line-2">CHALLENGE</span>
      </h1>

      <p class="subtitle">Real-Time DDoS Mitigation Training</p>

      <!-- Stats en temps réel -->
      <div class="live-stats">
        <div class="stat-item">
          <mat-icon>groups</mat-icon>
          <div class="stat-value">{{ stats.totalSessions | number }}</div>
          <div class="stat-label">Sessions jouées</div>
        </div>
        <div class="stat-item pulse-dot">
          <mat-icon>radio_button_checked</mat-icon>
          <div class="stat-value">{{ stats.activeNow }}</div>
          <div class="stat-label">En cours</div>
        </div>
        <div class="stat-item">
          <mat-icon>emoji_events</mat-icon>
          <div class="stat-value">{{ stats.topScore | number }}</div>
          <div class="stat-label">Top Score</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scénario contextuel -->
  <div class="scenario-section">
    <div class="scenario-card">
      <div class="card-header">
        <mat-icon>description</mat-icon>
        <h3>BRIEFING OPÉRATIONNEL</h3>
      </div>

      <div class="scenario-content">
        <div class="scenario-line">
          <mat-icon>business</mat-icon>
          <span><strong>Client :</strong> {{ scenario.company }} (Leader e-commerce France)</span>
        </div>
        <div class="scenario-line">
          <mat-icon>event</mat-icon>
          <span><strong>Contexte :</strong> {{ scenario.date }}</span>
        </div>
        <div class="scenario-line critical">
          <mat-icon>trending_up</mat-icon>
          <span><strong>Trafic anormal :</strong> {{ scenario.threat }} (normal: {{ scenario.normal }})</span>
        </div>
        <div class="scenario-line">
          <mat-icon>timer</mat-icon>
          <span><strong>Temps limite :</strong> {{ scenario.timeLimit }} secondes</span>
        </div>
        <div class="scenario-line">
          <mat-icon>attach_money</mat-icon>
          <span><strong>Impact financier :</strong> {{ scenario.moneyPerSecond }}/seconde</span>
        </div>
      </div>

      <div class="mission-objective">
        <mat-icon>track_changes</mat-icon>
        <div>
          <strong>OBJECTIF :</strong> Identifier les attaques multi-vecteurs et configurer
          les règles firewall avant que l'infrastructure soit compromise.
        </div>
      </div>
    </div>
  </div>

  <!-- Features -->
  <div class="features-grid">
    <div class="feature-card" *ngFor="let feature of features" [class]="'border-' + feature.color">
      <div class="feature-icon" [class]="'bg-' + feature.color">
        <mat-icon>{{ feature.icon }}</mat-icon>
      </div>
      <h4>{{ feature.title }}</h4>
      <p>{{ feature.description }}</p>
    </div>
  </div>

  <!-- Exemples de commandes -->
  <div class="commands-section">
    <h3>
      <mat-icon>code</mat-icon>
      COMMANDES DISPONIBLES
    </h3>
    <div class="commands-grid">
      <div class="command-example" *ngFor="let example of commandExamples">
        <code>{{ example.cmd }}</code>
        <span class="cmd-desc">{{ example.desc }}</span>
      </div>
    </div>
  </div>

  <!-- Section démarrage -->
  <div class="start-section">
    <div class="pseudo-toggle" *ngIf="!showPseudoInput">
      <p>Entrez votre pseudo pour participer au classement</p>
      <button mat-raised-button (click)="togglePseudoInput()" class="toggle-btn">
        <mat-icon>leaderboard</mat-icon>
        PARTICIPER AU CLASSEMENT
      </button>
    </div>

    <div class="pseudo-input-container" *ngIf="showPseudoInput">
      <mat-icon>person</mat-icon>
      <input
        type="text"
        [(ngModel)]="playerPseudo"
        placeholder="Entrez votre pseudo (requis)..."
        maxlength="20"
        class="pseudo-input"
        (keyup.enter)="onStart()">
    </div>

    <button
      mat-raised-button
      class="start-btn"
      [disabled]="!showPseudoInput || !playerPseudo.trim()"
      (click)="onStart()">
      <mat-icon>power_settings_new</mat-icon>
      <span>INITIER LA SÉQUENCE</span>
    </button>

    <div class="disclaimer">
      <mat-icon>info</mat-icon>
      <span>Simulation à but éducatif. Toutes les attaques sont simulées dans un environnement contrôlé.</span>
    </div>
  </div>
</div>
